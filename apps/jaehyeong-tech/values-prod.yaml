# Jaehyeong Tech Blog - Production Environment

# Secret 이름
secrets:
  name: jaehyeong-tech-secret-prod

# API Configuration
api:
  replicaCount: 2
  image:
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  env:
    PORT: "3000"
    TZ: "Asia/Seoul"
    NODE_ENV: "production"
    SITE_URL: "https://tech.jaehyeong.com"
    CORS_ORIGIN: "https://tech.jaehyeong.com"
    # Google Analytics (non-secret)
    GA_PROPERTY_ID: "518938330"
    GA_CLIENT_EMAIL: "ga4-reader@jaehyeong-tech.iam.gserviceaccount.com"

# Web Configuration
web:
  replicaCount: 2
  image:
    tag: latest
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

# PostgreSQL - Prod
postgresql:
  enabled: true
  auth:
    existingSecret: jaehyeong-tech-db-secret-prod
  image:
    tag: "16.4.0-debian-12-r23"
  primary:
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    persistence:
      enabled: true
      size: 1Gi
      storageClass: local-path

# Prod 도메인 (여러 호스트)
virtualService:
  hosts:
    - tech.jaehyeong.com
    - jaehyeong.com
